<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Decision 2028 | Campaign Simulator</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700;900&family=Merriweather:wght@700;900&display=swap" rel="stylesheet">
</head>
<body>

    <section id="intro-screen" class="screen active">
        <div class="intro-content">
            <div class="breaking-banner">ELECTION ALERT</div>
            <h1 class="main-title">DECISION <span class="highlight">2028</span></h1>
            <p class="subtitle">The race for the White House begins now. </p>
            <button class="start-btn" onclick="app.goToScreen('party-screen')">BEGIN CAMPAIGN</button>
        </div>
    </section>

    <section id="party-screen" class="screen">
        <header class="news-header">
            <div class="logo">DECISION <span class="red-text">2028</span></div>
        </header>
        <div class="panel-container">
            <h2 class="section-title">SELECT YOUR PARTY</h2>
            <div class="party-grid">
                <div class="major-parties">
                    <div class="card card-party card-major" onclick="app.selParty('D')" style="border-top:  5px solid #00AEF3;">
                        <div class="party-overlay">
                            <h3>Democratic Party</h3>
                            <p class="party-desc">The center-left party focused on social equality and progressive policies.</p>
                        </div>
                    </div>
                    <div class="card card-party card-major" onclick="app.selParty('R')" style="border-top: 5px solid #E81B23;">
                        <div class="party-overlay">
                            <h3>Republican Party</h3>
                            <p class="party-desc">The center-right party focused on traditional values and limited government.</p>
                        </div>
                    </div>
                </div>
                <div class="minor-parties">
                    <div class="card card-party card-minor" onclick="app.selParty('F')" style="border-top: 4px solid #F2C75C;">
                        <div class="party-overlay">
                            <h3>Forward Party</h3>
                            <p class="party-desc party-desc-minor">A centrist third party focused on electoral reform. </p>
                            <span class="debuff-tag">HARD MODE</span>
                        </div>
                    </div>
                    <div class="card card-party card-minor" onclick="app.selParty('G')" style="border-top: 4px solid #198754;">
                        <div class="party-overlay">
                            <h3>Green Party</h3>
                            <p class="party-desc party-desc-minor">Environmental and social justice focused. </p>
                            <span class="debuff-tag">HARD MODE</span>
                        </div>
                    </div>
                    <div class="card card-party card-minor" onclick="app.selParty('L')" style="border-top: 4px solid #fd7e14;">
                        <div class="party-overlay">
                            <h3>Libertarian Party</h3>
                            <p class="party-desc party-desc-minor">Minimal government, maximum freedom.</p>
                            <span class="debuff-tag">HARD MODE</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="candidate-screen" class="screen">
        <header class="news-header">
            <div class="logo">DECISION <span class="red-text">2028</span></div>
        </header>
        <div class="panel-container">
            <h2 class="section-title">SELECT PRESIDENTIAL NOMINEE</h2>
            <div class="cards-row" id="candidate-cards"></div>
            <button class="back-btn" onclick="app.goToScreen('party-screen')">&larr; BACK TO PARTIES</button>
        </div>
    </section>

    <section id="vp-screen" class="screen">
        <header class="news-header">
            <div class="logo">DECISION <span class="red-text">2028</span></div>
        </header>
        <div class="panel-container">
            <h2 class="section-title">SELECT RUNNING MATE</h2>
            <div class="cards-row" id="vp-cards"></div>
            <button class="back-btn" onclick="app.goToScreen('candidate-screen')">&larr; BACK TO CANDIDATES</button>
        </div>
    </section>

    <section id="opponent-screen" class="screen">
        <header class="news-header">
            <div class="logo">DECISION <span class="red-text">2028</span></div>
        </header>
        <div class="panel-container">
            <h2 class="section-title">SELECT YOUR OPPONENTS</h2>
            <p class="opponent-instructions" id="opponent-instructions">Select the opposing ticket by clicking on candidates.  Selected candidates will have a colored border.</p>
            <div id="opponent-selection-container"></div>
            <button class="start-btn" id="start-campaign-btn" style="margin-top: 30px; opacity: 0.5;" disabled onclick="app.startGame()">START CAMPAIGN &rarr;</button>
            <button class="back-btn" onclick="app.goToScreen('vp-screen')">&larr; BACK TO VP SELECTION</button>
        </div>
    </section>

    <section id="game-screen" class="screen">
        <header class="hud-header">
            <div class="hud-left">
                <div class="candidate-badge">
                    <img id="hud-img" src="" alt="">
                    <div class="hud-text-col">
                        <span class="cand-name" id="hud-cand-name">CANDIDATE</span>
                        <span class="cand-party" id="hud-party-name">NOMINEE</span>
                    </div>
                </div>
            </div>
            <div class="hud-center">
                <div class="ev-display">
                    <span class="dem-score" id="score-dem">0</span>
                    <span class="divider">270 TO WIN</span>
                    <span class="rep-score" id="score-rep">0</span>
                </div>
                <div class="progress-bar-bg"><div class="progress-bar-fill" id="ev-bar"></div></div>
            </div>
            <div class="hud-right">
                <button class="undo-btn" onclick="app.undoLastAction()">‚ü≤ UNDO</button>
                <div class="stat-group">
                    <label>ENERGY</label>
                    <div class="energy-container" id="hud-energy"></div>
                </div>
                <div class="stat-group">
                    <label>FUNDS</label>
                    <span class="money" id="hud-funds">$0.0M</span>
                </div>
                <div class="stat-group">
                    <label>DATE</label>
                    <span class="date-display" id="hud-date">JUL 4</span>
                </div>
                <button class="next-turn-btn" onclick="app.nextWeek()">NEXT WEEK &rarr;</button>
            </div>
        </header>

        <div class="game-area">
            <div id="map-container">
                <div id="us-map-wrapper"></div>
                <div id="county-view-wrapper" class="hidden">
                    <div id="county-view-header">
                        <button class="county-back-btn" onclick="app.closeCountyView()">‚Üê BACK TO US MAP</button>
                        <span id="cv-title">STATE</span>
                        <div id="cv-stats"></div>
                    </div>
                    <div id="county-map-container"></div>
                </div>
            </div>

            <aside id="sidebar">
                <div id="state-panel" class="hidden">
                    <div class="state-header-box">
                        <h2 id="sp-name">STATE</h2>
                        <span class="ev-badge" id="sp-ev">0 EV</span>
                    </div>
                    <div class="poll-vis">
                        <div class="poll-bar-wrap" id="poll-bar-wrap"></div>
                        <div class="poll-numbers">
                            <span class="blue" id="poll-dem-val">50%</span>
                            <span class="gray">vs</span>
                            <span class="red" id="poll-rep-val">50%</span>
                        </div>
                    </div>
                    <div class="action-menu">
                        <h4>CAMPAIGN STRATEGY</h4>
                        <div class="action-grid">
                            <button class="act-btn" onclick="app.handleAction('fundraise')"><span>üí∞</span><span>FUNDRAISE</span></button>
                            <button class="act-btn" onclick="app.handleAction('ad')"><span>üì∫</span><span>AD BLITZ</span></button>
                            <button class="act-btn" onclick="app.handleAction('rally')"><span>üé§</span><span>RALLY</span></button>
                            <button class="act-btn" onclick="app.openStateBio()"><span>üìñ</span><span>INTEL</span></button>
                        </div>
                    </div>
                    <div class="issues-list"><h4>TOP ISSUES</h4><div id="sp-issues-list"></div></div>
                </div>
                <div id="empty-msg">
                    <div class="empty-icon">üó≥Ô∏è</div>
                    <p>Select a State</p>
                    <p style="font-size:  0.8rem; color: #666;">Click any state to view details</p>
                </div>
                <div id="log-feed"><h4>CAMPAIGN LOG</h4><div id="log-content"></div></div>
            </aside>
        </div>
    </section>

    <section id="election-screen" class="screen">
        <header class="election-header">
            <div class="election-header-left">
                <div class="network-bug">
                    <span class="bug-text">DECISION</span>
                    <span class="bug-year">2028</span>
                </div>
                <div class="election-banner">ELECTION NIGHT IN AMERICA</div>
            </div>
            <div class="election-header-center">
                <div class="election-time-display">
                    <span id="election-time">5:30 PM</span>
                    <span id="election-timezone">EST</span>
                </div>
                <div class="time-controls">
                    <button class="time-btn" id="btn-pause" onclick="app.election.togglePause()">‚è∏Ô∏è</button>
                    <button class="time-btn" onclick="app.election.setSpeed(0.5)">¬Ω√ó</button>
                    <button class="time-btn active" onclick="app.election.setSpeed(1)">1√ó</button>
                    <button class="time-btn" onclick="app.election.setSpeed(2)">2√ó</button>
                    <button class="time-btn" onclick="app.election.setSpeed(5)">5√ó</button>
                    <button class="time-btn" onclick="app.election.setSpeed(10)">10√ó</button>
                </div>
            </div>
            <div class="election-header-right">
                <div class="map-mode-toggle">
                    <button class="mode-btn active" id="mode-leader" onclick="app.election.setMapMode('leader')">CURRENT LEADER</button>
                    <button class="mode-btn" id="mode-projected" onclick="app.election.setMapMode('projected')">PROJECTED WINNER</button>
                </div>
            </div>
        </header>

        <div class="election-main">
            <div class="election-ev-banner">
                <div class="ev-candidate ev-dem">
                    <img id="elec-dem-img" src="" alt="">
                    <div class="ev-info">
                        <span class="ev-name" id="elec-dem-name">DEMOCRAT</span>
                        <span class="ev-count" id="elec-dem-ev">0</span>
                    </div>
                </div>
                <div class="ev-progress-wrapper">
                    <div class="ev-progress-bar">
                        <div class="ev-fill ev-fill-dem" id="elec-bar-dem"></div>
                        <div class="ev-marker">270</div>
                        <div class="ev-fill ev-fill-rep" id="elec-bar-rep"></div>
                    </div>
                    <div class="ev-labels">
                        <span>0</span>
                        <span>538</span>
                    </div>
                </div>
                <div class="ev-candidate ev-rep">
                    <div class="ev-info">
                        <span class="ev-name" id="elec-rep-name">REPUBLICAN</span>
                        <span class="ev-count" id="elec-rep-ev">0</span>
                    </div>
                    <img id="elec-rep-img" src="" alt="">
                </div>
            </div>

            <div class="election-content">
                <div id="election-map-container">
                    <div id="election-map-wrapper"></div>
                </div>

                <aside id="election-sidebar">
                    <div id="election-state-info" class="hidden">
                        <div class="elec-state-header">
                            <h2 id="elec-state-name">STATE</h2>
                            <span class="elec-ev-badge" id="elec-state-ev">0 EV</span>
                        </div>
                        <div class="elec-reporting">
                            <span id="elec-pct-reporting">0%</span> Reporting
                        </div>
                        <div class="elec-results-bar">
                            <div class="elec-bar-dem" id="elec-state-bar-dem"></div>
                            <div class="elec-bar-rep" id="elec-state-bar-rep"></div>
                        </div>
                        <div class="elec-vote-counts">
                            <div class="elec-vote-row">
                                <span class="elec-cand-name blue" id="elec-state-dem-name">Democrat</span>
                                <span class="elec-votes" id="elec-state-dem-votes">0</span>
                                <span class="elec-pct blue" id="elec-state-dem-pct">0%</span>
                            </div>
                            <div class="elec-vote-row">
                                <span class="elec-cand-name red" id="elec-state-rep-name">Republican</span>
                                <span class="elec-votes" id="elec-state-rep-votes">0</span>
                                <span class="elec-pct red" id="elec-state-rep-pct">0%</span>
                            </div>
                        </div>
                        <div class="elec-projection" id="elec-projection">
                            <span class="proj-status">TOO EARLY TO CALL</span>
                        </div>
                    </div>
                    
                    <div id="election-feed">
                        <h4>üî¥ LIVE UPDATES</h4>
                        <div id="election-feed-content"></div>
                    </div>
                    
                    <div id="race-calls">
                        <h4>RACE CALLS</h4>
                        <div id="race-calls-content"></div>
                    </div>
                </aside>
            </div>
        </div>
        
        <div id="winner-overlay" class="hidden">
            <div class="winner-content">
                <div class="winner-banner">PROJECTED WINNER</div>
                <img id="winner-img" src="" alt="">
                <h1 id="winner-name">CANDIDATE NAME</h1>
                <p id="winner-party">PARTY</p>
                <div class="winner-ev">
                    <span id="winner-ev-count">270</span>
                    <span>ELECTORAL VOTES</span>
                </div>
                <button class="winner-close-btn" onclick="app.election.closeWinnerOverlay()">CONTINUE WATCHING</button>
            </div>
        </div>
    </section>

    <div id="bio-modal" class="hidden">
        <div class="modal-box">
            <h2 id="bio-title">STATE REPORT</h2>
            <div id="bio-content"></div>
            <button onclick="document.getElementById('bio-modal').classList.add('hidden')">CLOSE</button>
        </div>
    </div>

    <div id="map-tooltip"></div>
    <div id="toast"></div>
    
    <!-- Load scripts in dependency order -->
<script src="js/config.js"></script>
<script src="js/utils.js"></script>
<script src="js/screens.js"></script>
<script src="js/campaign.js"></script>
<script src="js/election.js"></script>
<script src="js/main.js"></script>
</body>
</html>


